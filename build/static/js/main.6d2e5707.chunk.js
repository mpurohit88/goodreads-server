(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{241:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),i=a.n(o),l=(a(94),a(19)),s=a(20),c=a(22),u=a(21),m=a(23),h=(a(96),a(85)),d=a(8),g=a.n(d),p=a(50),f=a.n(p),b=a(16),E=a.n(b),v=a(51),x=a.n(v);var y=Object(h.withStyles)(function(e){return{root:{flexGrow:1,maxWidth:700,padding:2*e.spacing.unit,"margin-top":2,"margin-right":"auto","margin-bottom":0,"margin-left":"auto","text-align":"left",cursor:"pointer"},image:{width:100,height:100},img:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"}}})(function(e){var t=e.classes,a=e.searchResult,n=e.getBookDetails,o=e.index;return r.a.createElement(f.a,{className:t.root,key:"id-"+o,onClick:function(){return n(a.best_book.id["#text"])}},r.a.createElement(g.a,{container:!0,spacing:16},r.a.createElement(g.a,{item:!0},r.a.createElement(x.a,{className:t.image},r.a.createElement("img",{className:t.img,alt:"complex",src:a.best_book.small_image_url}))),r.a.createElement(g.a,{item:!0,xs:12,sm:!0,container:!0},r.a.createElement(g.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:16},r.a.createElement(g.a,{item:!0,xs:!0},r.a.createElement(E.a,{gutterBottom:!0,variant:"h5"},a.best_book.title))))))}),D=a(86),k=a.n(D),S=a(52),w=a.n(S),O=a(37),j=a.n(O),C=a(36),A=a.n(C),T=a(35),B=a.n(T),N=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={isShowDialogBox:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.bookDetail;return[t.isLoading&&r.a.createElement("div",{class:"loading"},"Loading\u2026"),r.a.createElement(A.a,{id:"scroll-dialog-title"},"Bood Detail"),r.a.createElement(j.a,null,r.a.createElement(g.a,{container:!0,spacing:16},r.a.createElement(g.a,{item:!0},r.a.createElement("img",{alt:"complex",src:a.image_url})),r.a.createElement(g.a,{item:!0,xs:12,sm:!0,container:!0},r.a.createElement(g.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:16},r.a.createElement(g.a,{item:!0,xs:!0},r.a.createElement(E.a,{gutterBottom:!0,variant:"h5"},a.title["#cdata"]),r.a.createElement(E.a,{gutterBottom:!0,variant:"h5"},r.a.createElement("b",null,"by",Array.isArray(a.authors.author)?a.authors.author.map(function(t){return r.a.createElement("a",{href:"#",onClick:function(){return e.props.getAuthorDetails(t.id)}}," ",t.name,", ")}):r.a.createElement("a",{href:"#",onClick:function(){return e.props.getAuthorDetails(a.authors.author.id)}},a.authors.author.name)),this.state.authorDetails&&r.a.createElement("div",null,this.state.authorDetails.GoodreadsResponse.author.about?this.state.authorDetails.GoodreadsResponse.author.about["#cdata"]:"About info is not available for this user")),r.a.createElement(E.a,{color:"textSecondary"},"*****: ",a.average_rating," | Rating details | ",a.ratings_count["#cdata"]," Ratings | ",a.text_reviews_count["#cdata"]," Reviews"))))),r.a.createElement("br",null),r.a.createElement(n.Fragment,null,r.a.createElement("span",{dangerouslySetInnerHTML:{__html:a.description&&a.description["#cdata"]}}))),r.a.createElement(w.a,null,r.a.createElement(B.a,{onClick:this.handleClose,color:"primary"},"Close"))]}}]),t}(n.Component),_=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.authorDetails;return[r.a.createElement(A.a,{id:"scroll-dialog-title"},"Author Details | ",r.a.createElement("a",{href:"#",onClick:this.props.resetAuthor},"Back To Book Detail")),r.a.createElement(j.a,null,r.a.createElement(g.a,{container:!0,spacing:16},r.a.createElement(g.a,{item:!0,xs:4},r.a.createElement("img",{alt:"complex",src:e.image_url["#cdata"]})),r.a.createElement(g.a,{item:!0,xs:8},r.a.createElement(g.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:16},r.a.createElement(g.a,{item:!0,xs:!0},r.a.createElement(E.a,{gutterBottom:!0,variant:"h5"},e.name),r.a.createElement("hr",null),r.a.createElement(E.a,{gutterBottom:!0,variant:"h6"},"Born: ",null===e.born_at?"N/A":e.born_at," ",r.a.createElement("br",null),"Website: N/A ",r.a.createElement("br",null),"Twitter: ",r.a.createElement("br",null)),r.a.createElement("br",null)," ",r.a.createElement("br",null)))),r.a.createElement(E.a,{gutterBottom:!0,variant:"h6"},r.a.createElement(n.Fragment,null,r.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.about["#cdata"]}})))))]}}]),t}(n.Component),L=a(38),R=a.n(L),P=function(e,t){var a={toObj:function(e){var t={};if(1===e.nodeType){if(e.attributes.length)for(var n=0;n<e.attributes.length;n++)t["@"+e.attributes[n].nodeName]=(e.attributes[n].nodeValue||"").toString();if(e.firstChild){for(var r=0,o=0,i=!1,l=e.firstChild;l;l=l.nextSibling)1===l.nodeType?i=!0:3===l.nodeType&&l.nodeValue.match(/[^ \f\n\r\t\v]/)?r++:4===l.nodeType&&o++;if(i)if(r<2&&o<2){a.removeWhite(e);for(var s=e.firstChild;s;s=s.nextSibling)3===s.nodeType?t["#text"]=a.escape(s.nodeValue):4===s.nodeType?t["#cdata"]=a.escape(s.nodeValue):t[s.nodeName]?t[s.nodeName]instanceof Array?t[s.nodeName][t[s.nodeName].length]=a.toObj(s):t[s.nodeName]=[t[s.nodeName],a.toObj(s)]:t[s.nodeName]=a.toObj(s)}else e.attributes.length?t["#text"]=a.escape(a.innerXml(e)):t=a.escape(a.innerXml(e));else if(r)e.attributes.length?t["#text"]=a.escape(a.innerXml(e)):t=a.escape(a.innerXml(e));else if(o)if(o>1)t=a.escape(a.innerXml(e));else for(var c=e.firstChild;c;c=c.nextSibling)t["#cdata"]=a.escape(c.nodeValue)}e.attributes.length||e.firstChild||(t=null)}else 9===e.nodeType?t=a.toObj(e.documentElement):alert("unhandled node type: "+e.nodeType);return t},toJson:function(e,t,n){var r=t?'"'+t+'"':"";if(e instanceof Array){for(var o=0,i=e.length;o<i;o++)e[o]=a.toJson(e[o],"",n+"\t");r+=(t?":[":"[")+(e.length>1?"\n"+n+"\t"+e.join(",\n"+n+"\t")+"\n"+n:e.join(""))+"]"}else if(null===e)r+=(t&&":")+"null";else if("object"===typeof e){var l=[];for(var s in e)l[l.length]=a.toJson(e[s],s,n+"\t");r+=(t?":{":"{")+(l.length>1?"\n"+n+"\t"+l.join(",\n"+n+"\t")+"\n"+n:l.join(""))+"}"}else r+="string"===typeof e?(t&&":")+'"'+e.toString()+'"':(t&&":")+e.toString();return r},innerXml:function(e){var t="";if("innerHTML"in e)t=e.innerHTML;else for(var a=function e(t){var a="";if(1===t.nodeType){a+="<"+t.nodeName;for(var n=0;n<t.attributes.length;n++)a+=" "+t.attributes[n].nodeName+'="'+(t.attributes[n].nodeValue||"").toString()+'"';if(t.firstChild){a+=">";for(var r=t.firstChild;r;r=r.nextSibling)a+=e(r);a+="</"+t.nodeName+">"}else a+="/>"}else 3===t.nodeType?a+=t.nodeValue:4===t.nodeType&&(a+="<![CDATA["+t.nodeValue+"]]>");return a},n=e.firstChild;n;n=n.nextSibling)t+=a(n);return t},escape:function(e){return e.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(e){e.normalize();for(var t=e.firstChild;t;)if(3===t.nodeType)if(t.nodeValue.match(/[^ \f\n\r\t\v]/))t=t.nextSibling;else{var n=t.nextSibling;e.removeChild(t),t=n}else 1===t.nodeType?(a.removeWhite(t),t=t.nextSibling):t=t.nextSibling;return e}};9===e.nodeType&&(e=e.documentElement);var n=a.toJson(a.toObj(a.removeWhite(e)),e.nodeName,"\t");return"{\n"+t+(t?n.replace(/\t/g,t):n.replace(/\t|\n/g,""))+"\n}"},G=function(e){var t=null;if(window.DOMParser)try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(a){t=null}else alert("cannot parse xml string!");return t},J=function(e){return new Promise(function(t,a){R()("api/search?q="+e,{method:"GET"}).then(function(e){var a=G(e.data),n=P(a);t(JSON.parse(n.replace("undefined","")))}).catch(function(e){console.log(e),a(e)})})},V=function(e){return new Promise(function(t,a){R()("api/getDetails?q="+e,{method:"GET"}).then(function(e){var a=G(e.data),n=P(a);t(JSON.parse(n.replace("undefined","")))}).catch(function(e){console.log(e),a(e)})})},W=function(e){return new Promise(function(t,a){R()("api/getAuthorDetails?q="+e,{method:"GET"}).then(function(e){var a=G(e.data),n=P(a);t(JSON.parse(n.replace("undefined","")))}).catch(function(e){console.log(e),a(e)})})},F=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!0,scroll:"paper",authorDetails:void 0,isLoading:!1},a.handleClickOpen=function(e){return function(){a.setState({open:!0,scroll:e})}},a.handleClose=function(){a.setState({open:!1}),a.props.reset()},a.getAuthorDetails=function(e){a.setState({isLoading:!0}),W(e).then(function(e){a.setState({authorDetails:e,isLoading:!1}),console.log("************** Author Details: ",e)})},a.resetAuthor=function(){a.setState({authorDetails:void 0})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.bookDetail;return console.log("$$$$$$",this.state.authorDetails),r.a.createElement("div",null,r.a.createElement(k.a,{open:this.state.open,onClose:this.handleClose,scroll:this.state.scroll,"aria-labelledby":"scroll-dialog-title"},this.state.authorDetails?r.a.createElement(_,{resetAuthor:this.resetAuthor,authorDetails:this.state.authorDetails.GoodreadsResponse.author}):e?r.a.createElement(N,{isLoading:this.state.isLoading,getAuthorDetails:this.getAuthorDetails,bookDetail:e}):r.a.createElement("span",null,"Loading...")))}}]),t}(r.a.Component),$=a(88),M=a.n($),X=a(87),H=a.n(X),q=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).reset=function(){a.setState({isShowDialogBox:!1,bookDetail:void 0})},a.handleKeyPress=function(e){13===e.charCode&&(a.setState({isLoading:!0}),J(e.target.value).then(function(e){return a.setState({posts:e,isLoading:!1})}))},a.getBookDetails=function(e){a.setState({isShowDialogBox:!0}),V(e).then(function(e){a.setState({bookDetail:e})})},a.state={isShowDialogBox:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.posts?this.state.posts.GoodreadsResponse.search.results:void 0,a=this.state.bookDetail?this.state.bookDetail.GoodreadsResponse.book:void 0;return[r.a.createElement("div",{className:"App"},r.a.createElement(H.a,{htmlFor:"search"},"Provide Book Title and Press Enter (ex. react)"),"\xa0\xa0\xa0\xa0",r.a.createElement(M.a,{type:"text",name:"search",id:"search",onKeyPress:this.handleKeyPress,autoFocus:!0}),this.state.isLoading&&r.a.createElement("span",{id:"loading"},"Loading..."),null===t?r.a.createElement("span",{id:"notFound"},"No Result Found"):"",t&&Array.isArray(t.work)?t.work.map(function(t,a){return r.a.createElement(y,{searchResult:t,getBookDetails:e.getBookDetails,index:a})}):t&&r.a.createElement(y,{searchResult:t.work,getBookDetails:e.getBookDetails,index:1})),this.state.isShowDialogBox?r.a.createElement(F,{bookDetail:a,reset:this.reset}):null]}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},89:function(e,t,a){e.exports=a(241)},94:function(e,t,a){},96:function(e,t,a){}},[[89,2,1]]]);
//# sourceMappingURL=main.6d2e5707.chunk.js.map